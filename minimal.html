<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Minimal Scroller</title>
  <style>
    body { margin: 0; background: black; color: white; font-family: sans-serif; }
    .container { width: 100vw; height: 100vh; display: flex; align-items: center; justify-content: center; }
    video, img { max-width: 90%; max-height: 90%; object-fit: contain; }
    .picker { position: fixed; top: 20px; left: 20px; background: rgba(0,0,0,0.8); padding: 10px; border-radius: 5px; }
  </style>
</head>
<body>
  <div class="picker">
    <input type="file" id="folderPicker" webkitdirectory multiple>
  </div>

  <div id="container" class="container">
    <p>Select a media folder to start</p>
  </div>

  <script>
    let files = [];
    let currentIndex = 0;
    
    document.getElementById('folderPicker').addEventListener('change', (e) => {
      files = Array.from(e.target.files).filter(file => 
        file.type.startsWith('video/') || 
        file.type.startsWith('image/') || 
        file.type.startsWith('audio/')
      );
      
      if (files.length > 0) {
        showItem(0);
      }
    });
    
    function showItem(index) {
      const container = document.getElementById('container');
      container.innerHTML = '';
      
      if (index >= files.length) index = 0;
      if (index < 0) index = files.length - 1;
      currentIndex = index;
      
      const file = files[index];
      
      if (file.type.startsWith('video/')) {
        const video = document.createElement('video');
        video.src = URL.createObjectURL(file);
        video.controls = true;  // Use native controls for testing
        video.autoplay = false; // Disable autoplay for testing
        video.addEventListener('click', () => {
          if (video.paused) video.play();
          else video.pause();
        });
        container.appendChild(video);
        
        // Add info
        const info = document.createElement('p');
        info.textContent = `Video ${index + 1}/${files.length}: ${file.name}`;
        info.style.position = 'fixed';
        info.style.bottom = '20px';
        info.style.left = '20px';
        info.style.background = 'rgba(0,0,0,0.8)';
        info.style.padding = '10px';
        container.appendChild(info);
        
      } else if (file.type.startsWith('image/')) {
        const img = document.createElement('img');
        img.src = URL.createObjectURL(file);
        container.appendChild(img);
        
        const info = document.createElement('p');
        info.textContent = `Image ${index + 1}/${files.length}: ${file.name}`;
        info.style.position = 'fixed';
        info.style.bottom = '20px';
        info.style.left = '20px';
        info.style.background = 'rgba(0,0,0,0.8)';
        info.style.padding = '10px';
        container.appendChild(info);
      }
    }
    
    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowDown' || e.key === 'ArrowRight') {
        showItem(currentIndex + 1);
      } else if (e.key === 'ArrowUp' || e.key === 'ArrowLeft') {
        showItem(currentIndex - 1);
      }
    });
  </script>
</body>
</html>