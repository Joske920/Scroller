<!DOCTYPE html>
<html>
<head>
    <title>Video Test</title>
    <style>
        body { background: black; color: white; padding: 20px; }
        .test-container { border: 1px solid white; margin: 10px 0; padding: 10px; }
    </style>
</head>
<body>
    <h2>Video Player Test</h2>
    
    <div class="test-container">
        <h3>Test 1: Basic Video Element</h3>
        <video id="basicVideo" controls style="width: 300px; height: 200px; background: gray;">
            <source src="data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMWFhY2MBAAIBAAEARZoA" type="video/mp4">
        </video>
        <p>Status: <span id="basicStatus">Not tested</span></p>
    </div>

    <div class="test-container">
        <h3>Test 2: MediaPlayer Class Test</h3>
        <div id="mediaPlayerContainer" style="width: 300px; height: 200px; border: 1px solid gray;"></div>
        <p>Status: <span id="mediaPlayerStatus">Not tested</span></p>
        <input type="file" id="videoFile" accept="video/*" style="margin: 10px 0;">
        <button onclick="testMediaPlayer()">Test with File</button>
    </div>

    <div class="test-container">
        <h3>Test 3: App Integration Test</h3>
        <div id="appContainer" style="width: 300px; height: 200px; border: 1px solid gray;"></div>
        <p>Status: <span id="appStatus">Not tested</span></p>
        <button onclick="testApp()">Test Full App</button>
    </div>

    <script src="mediaPlayer.js"></script>
    <script src="controls.js"></script>
    <script src="navigation.js"></script>
    <script>
        // Test 1: Basic video
        document.getElementById('basicVideo').addEventListener('loadstart', () => {
            document.getElementById('basicStatus').textContent = 'Video element working';
        });
        
        // Test 2: MediaPlayer class
        function testMediaPlayer() {
            try {
                const container = document.getElementById('mediaPlayerContainer');
                const mediaPlayer = new MediaPlayer();
                mediaPlayer.init(container);
                
                const fileInput = document.getElementById('videoFile');
                if (fileInput.files.length > 0) {
                    const file = fileInput.files[0];
                    mediaPlayer.showItem(file);
                    document.getElementById('mediaPlayerStatus').textContent = 'MediaPlayer class working';
                } else {
                    document.getElementById('mediaPlayerStatus').textContent = 'Please select a video file';
                }
            } catch (error) {
                document.getElementById('mediaPlayerStatus').textContent = 'Error: ' + error.message;
            }
        }
        
        // Test 3: Full app
        function testApp() {
            try {
                const container = document.getElementById('appContainer');
                container.innerHTML = '';
                
                const mediaPlayer = new MediaPlayer();
                const controls = new Controls();
                const navigation = new Navigation();
                
                mediaPlayer.init(container);
                controls.init();
                navigation.init();
                
                // Create a simple test file-like object
                const testFile = new File([''], 'test.mp4', { type: 'video/mp4' });
                const item = mediaPlayer.showItem(testFile);
                
                document.getElementById('appStatus').textContent = 'App integration working';
            } catch (error) {
                document.getElementById('appStatus').textContent = 'Error: ' + error.message;
            }
        }
        
        // Auto-test basic functionality
        setTimeout(() => {
            testApp();
        }, 1000);
    </script>
</body>
</html>